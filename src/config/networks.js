// Network configurations for Blockticity COA Viewer
export const NETWORKS = {
  testnet: {
    name: "Blockticity L1 Testnet",
    chainId: 75234,
    symbol: "BTEST",
    rpcUrl: "https://testnet-btest-ub57a.avax-test.network/ext/bc/2GMLdy7Fmb2FqA1EyHsUVre5rj1W5upmsDwqyKT1FEvJgWg79z/rpc?token=f3d07db83ce3d2ed8cd5e844136e7f5fbf66e7e7e83b11a984dfb6fdf5f99eba",
    contractAddress: "0x600D115075768548527BCcd156ccC921D7861f87",
    explorerUrl: "https://subnets-test.avax.network/btest",
    metadataBaseUrl: "https://app.blockticity.ai",
    orderIdMapping: {
      // PROFESSIONAL Earl Campbell Certificates - Updated Aug 15, 2025
      'b0229206': '1437',  // PIA Earl Campbell Certificate #0002 - PROFESSIONAL
      'b0229207': '1438',  // PIA Earl Campbell Certificate #0003 - PROFESSIONAL
      'b0229208': '1439'   // PIA Earl Campbell Certificate #0004 - PROFESSIONAL
    }
  },
  mainnet: {
    name: "Blockticity L1 Mainnet",
    chainId: 28530,
    symbol: "BTIC",
    rpcUrl: "https://subnets.avax.network/btic/mainnet/rpc",
    contractAddress: "0x7D1955F814f25Ec2065C01B9bFc0AcC29B3f2926",
    explorerUrl: "https://subnets.avax.network/btic",
    metadataBaseUrl: "https://app.blockticity.ai",
    orderIdMapping: {
      // Earl Campbell Mainnet COAs - 297 certificates minted Sept 16-17, 2025
      // Token IDs: 687723 to 688019
      // Order IDs: b0229059 to b0229355
      'b0229059': '687723',
      'b0229060': '687724',
      'b0229061': '687725',
      'b0229062': '687726',
      'b0229063': '687727',
      'b0229064': '687728',
      'b0229065': '687729',
      'b0229066': '687730',
      'b0229067': '687731',
      'b0229068': '687732',
      'b0229069': '687733',
      'b0229070': '687734',
      'b0229071': '687735',
      'b0229072': '687736',
      'b0229073': '687737',
      'b0229074': '687738',
      'b0229075': '687739',
      'b0229076': '687740',
      'b0229077': '687741',
      'b0229078': '687742',
      'b0229079': '687743',
      'b0229080': '687744',
      'b0229081': '687745',
      'b0229082': '687746',
      'b0229083': '687747',
      'b0229084': '687748',
      'b0229085': '687749',
      'b0229086': '687750',
      'b0229087': '687751',
      'b0229088': '687752',
      'b0229089': '687753',
      'b0229090': '687754',
      'b0229091': '687755',
      'b0229092': '687756',
      'b0229093': '687757',
      'b0229094': '687758',
      'b0229095': '687759',
      'b0229096': '687760',
      'b0229097': '687761',
      'b0229098': '687762',
      'b0229099': '687763',
      'b0229100': '687764',
      'b0229101': '687765',
      'b0229102': '687766',
      'b0229103': '687767',
      'b0229104': '687768',
      'b0229105': '687769',
      'b0229106': '687770',
      'b0229107': '687771',
      'b0229108': '687772',
      'b0229109': '687773',
      'b0229110': '687774',
      'b0229111': '687775',
      'b0229112': '687776',
      'b0229113': '687777',
      'b0229114': '687778',
      'b0229115': '687779',
      'b0229116': '687780',
      'b0229117': '687781',
      'b0229118': '687782',
      'b0229119': '687783',
      'b0229120': '687784',
      'b0229121': '687785',
      'b0229122': '687786',
      'b0229123': '687787',
      'b0229124': '687788',
      'b0229125': '687789',
      'b0229126': '687790',
      'b0229127': '687791',
      'b0229128': '687792',
      'b0229129': '687793',
      'b0229130': '687794',
      'b0229131': '687795',
      'b0229132': '687796',
      'b0229133': '687797',
      'b0229134': '687798',
      'b0229135': '687799',
      'b0229136': '687800',
      'b0229137': '687801',
      'b0229138': '687802',
      'b0229139': '687803',
      'b0229140': '687804',
      'b0229141': '687805',
      'b0229142': '687806',
      'b0229143': '687807',
      'b0229144': '687808',
      'b0229145': '687809',
      'b0229146': '687810',
      'b0229147': '687811',
      'b0229148': '687812',
      'b0229149': '687813',
      'b0229150': '687814',
      'b0229151': '687815',
      'b0229152': '687816',
      'b0229153': '687817',
      'b0229154': '687818',
      'b0229155': '687819',
      'b0229156': '687820',
      'b0229157': '687821',
      'b0229158': '687822',
      'b0229159': '687823',
      'b0229160': '687824',
      'b0229161': '687825',
      'b0229162': '687826',
      'b0229163': '687827',
      'b0229164': '687828',
      'b0229165': '687829',
      'b0229166': '687830',
      'b0229167': '687831',
      'b0229168': '687832',
      'b0229169': '687833',
      'b0229170': '687834',
      'b0229171': '687835',
      'b0229172': '687836',
      'b0229173': '687837',
      'b0229174': '687838',
      'b0229175': '687839',
      'b0229176': '687840',
      'b0229177': '687841',
      'b0229178': '687842',
      'b0229179': '687843',
      'b0229180': '687844',
      'b0229181': '687845',
      'b0229182': '687846',
      'b0229183': '687847',
      'b0229184': '687848',
      'b0229185': '687849',
      'b0229186': '687850',
      'b0229187': '687851',
      'b0229188': '687852',
      'b0229189': '687853',
      'b0229190': '687854',
      'b0229191': '687855',
      'b0229192': '687856',
      'b0229193': '687857',
      'b0229194': '687858',
      'b0229195': '687859',
      'b0229196': '687860',
      'b0229197': '687861',
      'b0229198': '687862',
      'b0229199': '687863',
      'b0229200': '687864',
      'b0229201': '687865',
      'b0229202': '687866',
      'b0229203': '687867',
      'b0229204': '687868',
      'b0229205': '687869',
      'b0229206': '687870',
      'b0229207': '687871',
      'b0229208': '687872',
      'b0229209': '687873',
      'b0229210': '687874',
      'b0229211': '687875',
      'b0229212': '687876',
      'b0229213': '687877',
      'b0229214': '687878',
      'b0229215': '687879',
      'b0229216': '687880',
      'b0229217': '687881',
      'b0229218': '687882',
      'b0229219': '687883',
      'b0229220': '687884',
      'b0229221': '687885',
      'b0229222': '687886',
      'b0229223': '687887',
      'b0229224': '687888',
      'b0229225': '687889',
      'b0229226': '687890',
      'b0229227': '687891',
      'b0229228': '687892',
      'b0229229': '687893',
      'b0229230': '687894',
      'b0229231': '687895',
      'b0229232': '687896',
      'b0229233': '687897',
      'b0229234': '687898',
      'b0229235': '687899',
      'b0229236': '687900',
      'b0229237': '687901',
      'b0229238': '687902',
      'b0229239': '687903',
      'b0229240': '687904',
      'b0229241': '687905',
      'b0229242': '687906',
      'b0229243': '687907',
      'b0229244': '687908',
      'b0229245': '687909',
      'b0229246': '687910',
      'b0229247': '687911',
      'b0229248': '687912',
      'b0229249': '687913',
      'b0229250': '687914',
      'b0229251': '687915',
      'b0229252': '687916',
      'b0229253': '687917',
      'b0229254': '687918',
      'b0229255': '687919',
      'b0229256': '687920',
      'b0229257': '687921',
      'b0229258': '687922',
      'b0229259': '687923',
      'b0229260': '687924',
      'b0229261': '687925',
      'b0229262': '687926',
      'b0229263': '687927',
      'b0229264': '687928',
      'b0229265': '687929',
      'b0229266': '687930',
      'b0229267': '687931',
      'b0229268': '687932',
      'b0229269': '687933',
      'b0229270': '687934',
      'b0229271': '687935',
      'b0229272': '687936',
      'b0229273': '687937',
      'b0229274': '687938',
      'b0229275': '687939',
      'b0229276': '687940',
      'b0229277': '687941',
      'b0229278': '687942',
      'b0229279': '687943',
      'b0229280': '687944',
      'b0229281': '687945',
      'b0229282': '687946',
      'b0229283': '687947',
      'b0229284': '687948',
      'b0229285': '687949',
      'b0229286': '687950',
      'b0229287': '687951',
      'b0229288': '687952',
      'b0229289': '687953',
      'b0229290': '687954',
      'b0229291': '687955',
      'b0229292': '687956',
      'b0229293': '687957',
      'b0229294': '687958',
      'b0229295': '687959',
      'b0229296': '687960',
      'b0229297': '687961',
      'b0229298': '687962',
      'b0229299': '687963',
      'b0229300': '687964',
      'b0229301': '687965',
      'b0229302': '687966',
      'b0229303': '687967',
      'b0229304': '687968',
      'b0229305': '687969',
      'b0229306': '687970',
      'b0229307': '687971',
      'b0229308': '687972',
      'b0229309': '687973',
      'b0229310': '687974',
      'b0229311': '687975',
      'b0229312': '687976',
      'b0229313': '687977',
      'b0229314': '687978',
      'b0229315': '687979',
      'b0229316': '687980',
      'b0229317': '687981',
      'b0229318': '687982',
      'b0229319': '687983',
      'b0229320': '687984',
      'b0229321': '687985',
      'b0229322': '687986',
      'b0229323': '687987',
      'b0229324': '687988',
      'b0229325': '687989',
      'b0229326': '687990',
      'b0229327': '687991',
      'b0229328': '687992',
      'b0229329': '687993',
      'b0229330': '687994',
      'b0229331': '687995',
      'b0229332': '687996',
      'b0229333': '687997',
      'b0229334': '687998',
      'b0229335': '687999',
      'b0229336': '688000',
      'b0229337': '688001',
      'b0229338': '688002',
      'b0229339': '688003',
      'b0229340': '688004',
      'b0229341': '688005',
      'b0229342': '688006',
      'b0229343': '688007',
      'b0229344': '688008',
      'b0229345': '688009',
      'b0229346': '688010',
      'b0229347': '688011',
      'b0229348': '688012',
      'b0229349': '688013',
      'b0229350': '688014',
      'b0229351': '688015',
      'b0229352': '688016',
      'b0229353': '688017',
      'b0229354': '688018',
      'b0229355': '688019'
    }
  }
};

export const getNetworkConfig = (network) => {
  const config = NETWORKS[network];
  if (!config) {
    throw new Error(`Unknown network: ${network}. Supported networks: ${Object.keys(NETWORKS).join(', ')}`);
  }
  return config;
};

export const detectNetworkFromUrl = () => {
  const urlParams = new URLSearchParams(window.location.search);
  const networkParam = urlParams.get('network');
  
  console.log('🌐 detectNetworkFromUrl:', {
    searchParams: window.location.search,
    networkParam: networkParam,
    fullUrl: window.location.href
  });
  
  // Check URL parameter
  if (networkParam === 'testnet') {
    console.log('✅ Detected TESTNET from URL parameter');
    return 'testnet';
  } else if (networkParam === 'mainnet') {
    console.log('✅ Detected MAINNET from URL parameter');
    return 'mainnet';
  }
  
  // Legacy path support (will be removed later)
  const path = window.location.pathname;
  if (path.startsWith('/test') || path.startsWith('/testnet')) {
    console.log('⚠️ Legacy path detected, redirecting to parameter-based URL');
    window.location.href = '/?network=testnet' + window.location.hash;
    return 'testnet';
  } else if (path.startsWith('/main') || path.startsWith('/mainnet')) {
    console.log('⚠️ Legacy path detected, redirecting to parameter-based URL');
    window.location.href = '/' + window.location.search + window.location.hash;
    return 'mainnet';
  }
  
  // Default to mainnet for production
  console.log('✅ Defaulting to MAINNET (production)');
  return 'mainnet';
};